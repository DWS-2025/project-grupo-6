<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/product-cards.css">
    <link rel="stylesheet" href="/css/wellcome.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/price-filter.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="/js/price-slider.js"></script>
</head>

<body class="bg-[#F5EFEB] font-['Inter']">
    {{> common/header}}

    <main class="p-6 max-w-[1600px] mx-auto">
        {{#errorMessage}}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4" role="alert">
            <span class="block font-light">{{errorMessage}}</span>
        </div>
        {{/errorMessage}}

        <div class="flex justify-between items-center mb-4 border-b border-[#294156]/10 pb-3">
            <h2 class="text-2xl font-light tracking-wide text-[#294156] relative inline-block after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-1/3 after:h-0.5 after:bg-[#294156]/30">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
                Available Products
            </h2>
        </div>
        
        <!-- Search Box -->
        <div class="mb-4 flex gap-2">
            <input type="text" id="productSearch" placeholder="Search products by name..." 
                   class="flex-1 p-3 border border-[#294156]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#294156]/50" />
            <button id="searchButton" class="button px-6 py-3 rounded-lg text-base flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1.5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align: middle;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
                <span style="vertical-align: middle;">Search</span>
            </button>
        </div>

        <!-- Main Content with Sidebar Layout -->
        <div class="flex flex-row gap-6">
            <!-- Left Sidebar with Filters -->
            <div class="w-1/5">
                <div class="sidebar-container">
                    <!-- Sort options -->
                    <div class="mb-4 bg-white p-3 rounded-lg shadow-sm border border-[#294156]/10 filter-container">
                        <h3 class="text-[#294156] text-sm font-medium mb-2">Sort Products</h3>
                        <select id="priceSort" class="w-full p-2 border border-[#294156]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#294156]/50 bg-white">
                            <option value="default">Default</option>
                            <option value="price_asc">Price: Low to High</option>
                            <option value="price_desc">Price: High to Low</option>
                        </select>
                    </div>

                    <!-- Price Range Filter -->
                    <div class="mb-4 bg-white p-3 rounded-lg shadow-sm border border-[#294156]/10 filter-container">
                        <h3 class="text-[#294156] text-sm font-medium mb-2">Filter by Price</h3>
                        
                        <!-- Price Range Inputs -->
                        <div class="flex flex-col gap-3 mb-4">
                            <div>
                                <label for="price-min" class="block text-xs text-[#294156]/70 mb-1">Min Price ($)</label>
                                <input type="number" id="price-min" min="0" max="1000" value="0" 
                                       class="w-full p-1.5 text-sm border border-[#294156]/20 rounded focus:outline-none focus:ring-1 focus:ring-[#294156]" />
                            </div>
                            <div>
                                <label for="price-max" class="block text-xs text-[#294156]/70 mb-1">Max Price ($)</label>
                                <input type="number" id="price-max" min="0" max="1000" value="1000" 
                                       class="w-full p-1.5 text-sm border border-[#294156]/20 rounded focus:outline-none focus:ring-1 focus:ring-[#294156]" />
                            </div>
                        </div>
                        
                        <!-- Apply Filter Button -->
                        <div class="flex flex-col gap-2">
                            <button id="apply-price-filter" class="bg-[#294156] text-white px-3 py-1.5 text-sm rounded hover:bg-[#567C8D] transition-colors">
                                Apply Filter
                            </button>
                            <button id="reset-price-filter" class="px-3 py-1.5 text-sm rounded border border-[#294156] text-[#294156] hover:bg-[#294156]/10 transition-colors">
                                Reset
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Main Content Area -->
            <div class="w-4/5">
                <!-- Products Grid -->
                <div class="grid grid-cols-5 gap-4" id="productsGrid">
                    <!-- Products will be loaded dynamically using JavaScript -->
                </div>

                <div class="text-center mt-6 mb-4">
                    <button id="loadMoreBtn" class="button px-4 py-2 text-sm rounded-lg bg-[#294156] text-white hover:bg-[#567C8D] transition-all duration-300 flex items-center mx-auto shadow-md hover:shadow-lg transform hover:-translate-y-1" onclick="loadMoreProducts()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                        Load More
                    </button>
                </div>
            </div>
        </div>
    </main>

    {{> common/footer}}

    <script src="/js/wellcome.js"></script>
</body>
</html>