<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/wellcome.css">
    <link rel="stylesheet" href="/css/product-cards.css">
</head>

<body class="bg-[#F5EFEB]">
    {{> common/header}}

    <main class="p-6">
        {{#errorMessage}}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
            <span class="block sm:inline">{{errorMessage}}</span>
        </div>
        {{/errorMessage}}

        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-[#294156]">Available Products</h2>
        </div>

        <!-- Products Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
            {{#products}}
            <div class="product-card">
                <div class="product-image-container">
                    <a href="/product-details?id={{id}}">
                        <img src="{{imagePath}}" alt="{{name}}" class="cursor-pointer hover:opacity-80 transition-opacity">
                    </a>
                </div>
                <div class="product-info">
                    <h3 class="product-name">{{name}}</h3>
                    <p class="product-description">{{description}}</p>
                    <p class="product-price">Price: ${{price}}</p>
                    <p class="product-stock">Stock: {{stock}}</p>
                </div>
                <div class="product-buttons">
                    <form action="/add-to-order" method="post" class="block">
                        <input type="hidden" name="productId" value="{{id}}">
                        <button type="submit" class="w-full bg-[#294156] text-white px-4 py-2 rounded hover:bg-[#567C8D] transition-colors">Add to Cart</button>
                    </form>
                    {{#isAdmin}}
                    <form action="/delete-product" method="post" class="block">
                        <input type="hidden" name="productId" value="{{id}}">
                        <button type="submit" class="w-full border border-red-500 text-white px-4 py-2 rounded hover:bg-red-500 transition-colors">Delete Product</button>
                    </form>
                    {{/isAdmin}}
                </div>
            </div>
            {{/products}}
        </div>
    </main>

    {{> common/footer}}
</body>
</html>

